<div class="profile-header">
    <!-- User Avatar with Edit Button -->
    <div class="profile-avatar">
        <div class="profile-avatar-circle">
            <span class="profile-avatar-icon">{{
                (pharmacy()?.name || "U").charAt(0).toUpperCase()
                }}</span>
        </div>
    </div>

    <!-- Profile Header Information -->
    <div class="profile-header-info">
        <!-- Header Content with Edit Button -->
        <div class="profile-header-content">
            <h1>My Profile</h1>
            <button class="profile-edit-btn" (click)="toggleEditMode()">
                @if (editMode()) {
                <span class="edit-icon"><i class="bi bi-floppy"></i></span>
                <span>Save Changes</span>

                } @else {
                <span class="edit-icon"><i class="bi bi-pencil"></i></span>
                <span>Edit Profile</span>
                }
            </button>
        </div>

        <!-- User Main Information Display -->
        <div class="profile-user-main">
            <div class="profile-user-name">
                {{ pharmacy()?.name || "User Name" }}
            </div>

            <div class="profile-user-email">
                <i class="fa-solid fa-location-dot text-muted me-2"></i>
                <span> {{ (pharmacy() && pharmacy()?.address) || "Address" }}</span>
            </div>
        </div>
    </div>
</div>
<div class="personal-info-section">
  <div class="section-header">
    <h2>Pharmacy Information</h2>

    <!-- Edit Mode Actions -->
    @if (editMode()) {
    <div class="edit-actions">
      <button class="btn-cancel" (click)="cancelEdit()">Cancel</button>
      <button class="btn-save" (click)="toggleEditMode()">Save</button>
    </div>
    }
  </div>

  <!-- Pharmacy Information Fields Grid -->
  <div class="info-grid">
    <!-- Pharmacy Name -->
    <div class="info-item">
      <label>Pharmacy Name:</label>
      @if (editMode() && pharmacy()) {
      <input
        type="text"
        [(ngModel)]="pharmacy()!.name"
        class="profile-input"
        name="name"
        required
      />
      } @else {
      <span>{{ pharmacy()?.name || "Not provided" }}</span>
      }
    </div>

    <!-- Phone Number -->
    <div class="info-item">
      <label>Phone Number:</label>
      @if (editMode() && pharmacy()) {
      <input
        type="text"
        [(ngModel)]="pharmacy()!.phoneNumber"
        class="profile-input"
        name="phoneNumber"
        required
      />
      } @else {
      <span>{{ pharmacy()?.phoneNumber || "Not provided" }}</span>
      }
    </div>

    <!-- Email -->
    <div class="info-item">
      <label>Email:</label>
      @if (editMode() && pharmacy()) {
      <input
        type="email"
        [(ngModel)]="pharmacy()!.email"
        class="profile-input"
        name="email"
        required
      />
      } @else {
      <span>{{ pharmacy()?.email || "Not provided" }}</span>
      }
    </div>

    <!-- Working Hours -->
    <div class="info-item">
      <label>Start Hour:</label>
      @if (editMode() && pharmacy()) {
      <input
        type="time"
        [(ngModel)]="pharmacy()!.startHour"
        class="profile-input"
        name="startHour"
      />
      } @else {
      <span>{{ pharmacy()?.startHour || "Not provided" }}</span>
      }
    </div>

    <div class="info-item">
      <label>End Hour:</label>
      @if (editMode() && pharmacy()) {
      <input
        type="time"
        [(ngModel)]="pharmacy()!.endHour"
        class="profile-input"
        name="endHour"
      />
      } @else {
      <span>{{ pharmacy()?.endHour || "Not provided" }}</span>
      }
    </div>

    <!-- Address -->
    <div class="info-item full-width">
      <label>Address:</label>
      @if (editMode() && pharmacy()) {
      <textarea
        [(ngModel)]="pharmacy()!.address"
        class="profile-textarea"
        rows="3"
        resize="none"
      ></textarea>
      } @else {
      <span>{{ pharmacy()?.address || "Not provided" }}</span>
      }
    </div>
  </div>
</div>
