<!-- Toggle Button (☰) يظهر لما الـ sidebar مقفول -->
<button
  class="btn sidebar-toggle-btn"
  *ngIf="!sidebarVisible"
  type="button"
  (click)="toggleSidebar()"
>
  ☰
</button>

<!-- Mobile backdrop-->
<div
  class="sidebar-backdrop d-md-none"
  [ngClass]="{ show: sidebarVisible && isSmallScreen }"
  (click)="closeSidebar()"
  aria-hidden="true"
></div>

<!-- Sidebar -->
<div
  id="sidebar"
  class="sidebar custom-sidebar shadow rounded-0 rounded-md-3"
  [ngClass]="{
    'd-block': sidebarVisible,
    'd-none': !sidebarVisible,
    'position-fixed': isSmallScreen
  }"
>
  <!-- Sidebar Header  -->
  <div class="sidebar-header">
    <h4 class="mb-0 border-bottom pb-2 flex-grow-1" (click)="onclickCategory()">
      🧪 All Categories
    </h4>
    <!-- داخل sidebar-header -->
    <button
      class="sidebar-close-btn"
      type="button"
      (click)="closeSidebar()"
      tabindex="0"
    >
      ✕
    </button>
  </div>

  <!-- Scrollable Category List -->
  <div class="sidebar-scroll">
    <ul class="nav flex-column">
      @for (category of Categories; track $index) {
      <li
        class="navbar-item nav-hover cursor-pointer"
        (click)="onclickCategory(category.name)"
        [ngClass]="{ active: selectedCategory === category.name }"
        role="button"
        tabindex="0"
      >
        <a class="nav-link d-flex align-items-center">
          <img [src]="category.icon" />
          <span class="nav-link sidebar-category-name">{{
            category.name
          }}</span>
        </a>
      </li>
      }
    </ul>
  </div>
</div>
