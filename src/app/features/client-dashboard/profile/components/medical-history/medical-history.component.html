@if (isLoading()) {
<div class="medical-loading">
  <app-loading-spinner></app-loading-spinner>
</div>
} @else {
<div class="medical-history-container">
  <h3>Medical History</h3>

  <div class="medical-sections">
    <div class="medical-section">
      <div class="section-header">
        <span class="section-icon">‚ù§Ô∏è</span>
        <h4>Conditions</h4>
      </div>
      <div class="medical-tags">
        @for (condition of medicalData.conditions; track condition) {
        <span class="medical-tag condition-tag">{{ condition }}</span>
        } @if (medicalData.conditions.length === 0) {
        <p class="empty-state">No conditions reported</p>
        }
      </div>
    </div>

    <div class="medical-section">
      <div class="section-header">
        <span class="section-icon">üíä</span>
        <h4>Current Medications</h4>
      </div>
      <div class="medical-tags">
        @for (medication of medicalData.medications; track medication) {
        <span class="medical-tag medication-tag">{{ medication }}</span>
        } @if (medicalData.medications.length === 0) {
        <p class="empty-state">No medications listed</p>
        }
      </div>
    </div>

    <div class="medical-section">
      <div class="section-header">
        <span class="section-icon">‚ö†Ô∏è</span>
        <h4>Allergies</h4>
      </div>
      <div class="medical-tags">
        @for (allergy of medicalData.allergies; track allergy) {
        <span class="medical-tag allergy-tag">{{ allergy }}</span>
        } @if (medicalData.allergies.length === 0) {
        <p class="empty-state">No known allergies</p>
        }
      </div>
    </div>
  </div>
</div>
}
